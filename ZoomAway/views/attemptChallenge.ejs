<!DOCTYPE html>
<html>
<head>
    <%- include('common/head') %>
    <script src="https://unpkg.com/blockly/blockly.min.js"></script>
    <script src="https://unpkg.com/blockly/blockly_compressed.js"></script>
    <script src="https://unpkg.com/blockly/blocks_compressed.js"></script>
    <script src="https://unpkg.com/blockly/javascript_compressed.js"></script>
    <script src="https://unpkg.com/blockly/msg/en.js"></script>
    <script src="/js/definitions.js"></script>
    <script src="/js/customblocks.js"></script>
</head>
<body>
    <header style="position: sticky; top: 0; z-index: 999;">
        <div class="section-title">
            <h2>Challenge</h2>
        </div>
    </header>

    <main>
        <div class="container mt-5 mb-5 row" style="margin: auto;">
            <div class="col-md-6">
                <p>
                    <button class="btn btn-success" id="runCode" onclick="runCode()">Run</button>
                    <button class="btn btn-danger" id="clearBtn" onclick="clearWorkspace()">Reset Workspace</button>
                    <button class="btn btn-danger" id="resetBtn" onclick="resetMaze()">Reset Maze</button>
                </p>
                <div id="blocklyDiv" style="height: 480px; width: 600px;"></div>
            </div>
            <div class="col-md-6 d-flex" style="margin: auto;">
                <%- include('common/maze') %>
            </div>
        </div>
        
        <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
            <block type="move_left"></block>
            <block type="move_right"></block>
            <block type="move_up"></block>
        </xml>
    </main>

    <footer>
        <%- include('common/footer') %>
    </footer>
    <script src="/js/maze.js"></script>
    <script src="/js/workspace.js"></script>
    <script>
        // <!-- Remove Sidebar -->
        $(document).ready(function(){
            $("#sidebarMenu").removeClass("sidebar");
            $(".position-sticky").css('display', 'none');
        });
    </script>
</body>

</html>
